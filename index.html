<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BASE WIF HAIR</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --base-blue: #0052FF;
    --base-dark-blue: #0052FF;
    --base-light-blue: #0052FF;
    --text-primary: #FFFFFF;
    --text-secondary: rgba(255, 255, 255, 0.8);
    --background: #0052FF;
    --surface: #0052FF;
    --border: rgba(255, 255, 255, 0.2);
    --gradient-primary: linear-gradient(135deg, #FFFFFF 0%, rgba(255, 255, 255, 0.9) 100%);
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.2);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.2);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.2);
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: var(--background);
    color: var(--text-primary);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
}

/* Wig Rain */
.wig-rain {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    overflow: hidden;
}

.wig-drop {
    position: absolute;
    width: 60px;
    height: 60px;
    background-image: url('wig.png');
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 0.6;
    animation: wigFall linear infinite;
}

@keyframes wigFall {
    0% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 0.6;
    }
    100% {
        transform: translateY(calc(100vh + 100px)) rotate(360deg);
        opacity: 0;
    }
}

/* Header */
.header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(0, 82, 255, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    z-index: 100;
}

.header-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 64px;
}

.logo {
    font-size: 20px;
    font-weight: 800;
    color: #FFFFFF;
    text-decoration: none;
}

.nav {
    display: flex;
    align-items: center;
    gap: 32px;
}

.nav-link {
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    font-weight: 500;
    font-size: 14px;
    transition: color 0.2s ease;
}

.nav-link:hover {
    color: #FFFFFF;
}

/* Main Content */
.main {
    padding-top: 64px;
}

/* Large Scrolling Banner */
.scrolling-banner {
    background: var(--base-blue);
    padding: 80px 0;
    overflow: hidden;
    position: relative;
}

.banner-text {
    font-size: clamp(60px, 15vw, 300px);
    font-weight: 900;
    color: white;
    white-space: nowrap;
    animation: scroll 20s linear infinite;
    will-change: transform;
    text-align: center;
}

@keyframes scroll {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
}

/* Hero Logo Animation */
.hero-logo {
    width: 350px;
    height: 350px;
    margin: 0 auto 50px;
    animation: logoFloat 4s ease-in-out infinite;
    filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.4));
    position: relative;
}

.hero-logo.fallback {
    background: linear-gradient(135deg, #FFFFFF 0%, #E6F0FF 50%, #FFFFFF 100%);
    border-radius: 20px;
    border: 3px solid rgba(255, 255, 255, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 48px;
    font-weight: 900;
    color: var(--base-blue);
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

@keyframes logoFloat {
    0%, 100% {
        transform: translateY(0px) scale(1);
    }
    25% {
        transform: translateY(-8px) scale(1.02);
    }
    50% {
        transform: translateY(-12px) scale(1.05);
    }
    75% {
        transform: translateY(-6px) scale(1.02);
    }
}

/* Hero Section */
.hero {
    padding: 80px 0 60px;
    text-align: center;
    background: var(--surface);
}

.hero-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
}

.hero-title {
    font-size: clamp(32px, 7vw, 88px);
    font-weight: 800;
    line-height: 1.1;
    margin-bottom: 24px;
    color: #FFFFFF;
    text-align: center;
}

.hero-subtitle {
    font-size: clamp(18px, 4vw, 36px);
    font-weight: 300;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 40px;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
    display: block;
    text-align: center;
}

/* Social Links */
.social-links {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin-bottom: 40px;
}

.social-link {
    display: inline-block;
    width: 45px;
    height: 45px;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    transition: all 0.3s ease;
    filter: brightness(1) drop-shadow(0 0 8px rgba(255, 255, 255, 0.3));
}

.social-link:hover {
    transform: scale(1.2);
    filter: brightness(1.2) drop-shadow(0 0 12px rgba(255, 255, 255, 0.6));
}

.social-link.dex {
    background-image: url('dex.png');
}

.social-link.telegram {
    background-image: url('TG.png');
}

.social-link.twitter {
    background-image: url('X.png');
}

/* Fallback for missing social icons */
.social-link.fallback {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.4);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    color: #FFFFFF;
    text-decoration: none;
}

/* How It Works Section */
.how-it-works {
    padding: 60px 0 80px;
    background: var(--surface);
    text-align: center;
}

.brian-example {
    max-width: 300px;
    height: 300px;
    margin: 0 auto 60px;
    border-radius: 16px;
    border: 4px solid rgba(255, 255, 255, 0.8);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
    object-fit: cover;
}

/* Enhanced Timeline Design */
.timeline-container {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    padding: 80px 0;
}

.timeline-line {
    position: absolute;
    top: 50%;
    left: 5%;
    right: 5%;
    height: 8px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    overflow: hidden;
}

.timeline-progress {
    height: 100%;
    background: linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0.8) 50%, #FFFFFF 100%);
    border-radius: 4px;
    width: 0%;
    animation: liquidFlow 8s ease-in-out infinite;
    position: relative;
}

.timeline-progress::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -20px;
    right: -20px;
    bottom: -2px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    border-radius: 6px;
    animation: wave 2s ease-in-out infinite;
}

@keyframes liquidFlow {
    0% { width: 0%; }
    20% { width: 25%; }
    40% { width: 50%; }
    60% { width: 75%; }
    80% { width: 100%; }
    100% { width: 100%; }
}

@keyframes wave {
    0%, 100% { transform: translateX(-100px) scaleX(1); }
    50% { transform: translateX(100px) scaleX(1.5); }
}

.timeline-steps {
    display: flex;
    justify-content: space-between;
    width: 100%;
    max-width: 900px;
    position: relative;
    z-index: 2;
}

.timeline-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    animation: stepReveal 0.8s ease-out;
    animation-fill-mode: both;
    animation-delay: calc(var(--step-delay) * 0.3s);
}

.timeline-step:nth-child(1) { --step-delay: 0; }
.timeline-step:nth-child(2) { --step-delay: 1; }
.timeline-step:nth-child(3) { --step-delay: 2; }
.timeline-step:nth-child(4) { --step-delay: 3; }

@keyframes stepReveal {
    from {
        opacity: 0;
        transform: translateY(50px) scale(0.5);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.timeline-circle {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    border: 4px solid rgba(255, 255, 255, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 42px;
    font-weight: 900;
    margin-bottom: 25px;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    animation: breathe 3s ease-in-out infinite;
}

@keyframes breathe {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.08); }
}

.timeline-circle::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(from 0deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: ripple 2s linear infinite;
    opacity: 0;
}

.timeline-circle.active::before {
    opacity: 1;
}

@keyframes ripple {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.timeline-circle.active {
    background: #FFFFFF;
    color: #0052FF;
    border-color: #FFFFFF;
    box-shadow: 
        0 0 30px rgba(255, 255, 255, 0.6),
        0 0 60px rgba(255, 255, 255, 0.3);
    animation: activeGlow 2s ease-in-out infinite;
}

@keyframes activeGlow {
    0%, 100% { 
        box-shadow: 
            0 0 30px rgba(255, 255, 255, 0.6),
            0 0 60px rgba(255, 255, 255, 0.3);
        transform: scale(1);
    }
    50% { 
        box-shadow: 
            0 0 40px rgba(255, 255, 255, 0.8),
            0 0 80px rgba(255, 255, 255, 0.5);
        transform: scale(1.05);
    }
}

.timeline-circle:hover {
    transform: scale(1.25);
    box-shadow: 0 0 50px rgba(255, 255, 255, 0.5);
}

.timeline-label {
    font-size: 22px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.95);
    max-width: 140px;
    line-height: 1.3;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
}

.typewriter-text {
    color: #FFFFFF;
    font-weight: 500;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
}

/* Typewriter Effect */
.typewriter {
    overflow: hidden;
    border-right: 3px solid #FFFFFF;
    white-space: nowrap;
    animation: typewriter 4s steps(40, end) infinite, blink-caret 0.75s step-end infinite;
    display: inline-block;
    text-align: center;
}

@keyframes typewriter {
    0% {
        width: 0;
    }
    50% {
        width: 100%;
    }
    100% {
        width: 0;
    }
}

@keyframes blink-caret {
    from, to {
        border-color: transparent;
    }
    50% {
        border-color: #FFFFFF;
    }
}

/* Upload Section */
.upload-section {
    padding: 80px 0;
    background: var(--background);
    text-align: center;
}

.section-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
}

.section-title {
    font-size: clamp(32px, 6vw, 48px);
    font-weight: 700;
    text-align: center;
    margin-bottom: 16px;
    color: #FFFFFF;
}

.section-subtitle {
    font-size: clamp(16px, 4vw, 20px);
    color: rgba(255, 255, 255, 0.8);
    text-align: center;
    margin-bottom: 60px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.upload-area {
    background: rgba(255, 255, 255, 0.1);
    border: 2px dashed rgba(255, 255, 255, 0.3);
    border-radius: 16px;
    padding: 60px 20px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    max-width: 500px;
    margin: 0 auto;
    backdrop-filter: blur(10px);
}

.upload-area:hover {
    border-color: rgba(255, 255, 255, 0.6);
    background: rgba(255, 255, 255, 0.15);
}

.upload-area.dragover {
    border-color: #FFFFFF;
    background: rgba(255, 255, 255, 0.2);
    transform: scale(1.02);
}

.upload-icon {
    font-size: 48px;
    margin-bottom: 24px;
    color: #FFFFFF;
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 24px;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

.upload-title {
    font-size: clamp(20px, 4vw, 24px);
    font-weight: 600;
    margin-bottom: 8px;
    color: #FFFFFF;
}

.upload-subtitle {
    color: rgba(255, 255, 255, 0.8);
    font-size: clamp(14px, 3vw, 16px);
}

.file-input {
    display: none;
}

/* Result Section */
.result-section {
    display: none;
    padding: 80px 0;
    background: var(--surface);
    text-align: center;
}

.result-container {
    display: flex;
    flex-direction: column;
    gap: 40px;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
}

.canvas-area {
    text-align: center;
    width: 100%;
    max-width: 600px;
    position: relative;
}

#outputCanvas {
    max-width: 100%;
    max-height: 70vh;
    border-radius: 16px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    border: 2px solid rgba(255, 255, 255, 0.3);
    margin-bottom: 20px;
    cursor: grab;
    touch-action: none;
}

#outputCanvas:active {
    cursor: grabbing;
}

/* Touch Controls Overlay */
.touch-controls {
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
    z-index: 10;
    pointer-events: none;
}

.touch-control-btn {
    background: rgba(0, 0, 0, 0.7);
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    pointer-events: all;
    backdrop-filter: blur(10px);
    transition: all 0.2s ease;
}

.touch-control-btn:active {
    transform: scale(0.95);
    background: rgba(0, 0, 0, 0.9);
}

.controls-panel {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 16px;
    padding: 20px;
    backdrop-filter: blur(10px);
    width: 100%;
    max-width: 400px;
    margin: 0 auto;
}

.panel-title {
    font-size: 18px;
    font-weight: 600;
    color: #FFFFFF;
    margin-bottom: 20px;
    text-align: center;
}

.control-group {
    margin-bottom: 16px;
}

.control-label {
    display: block;
    font-size: 14px;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: 8px;
    text-align: center;
}

.slider {
    width: 100%;
    height: 8px;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.2);
    outline: none;
    -webkit-appearance: none;
    margin-bottom: 8px;
}

.slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #FFFFFF;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.slider::-moz-range-thumb {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #FFFFFF;
    cursor: pointer;
    border: none;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.slider-value {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.8);
    text-align: center;
    font-weight: 600;
}

.controls {
    display: flex;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
    margin-top: 20px;
}

.btn {
    background: #FFFFFF;
    color: var(--base-blue);
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    min-width: 120px;
    justify-content: center;
}

.btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 25px rgba(255, 255, 255, 0.3);
    background: rgba(255, 255, 255, 0.9);
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.1);
    color: #FFFFFF;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.5);
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

/* Loading */
.loading {
    display: none;
    text-align: center;
    padding: 40px;
}

.spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-top: 3px solid #FFFFFF;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 16px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Success Message */
.success-message {
    display: none;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: #FFFFFF;
    padding: 16px;
    border-radius: 8px;
    margin: 20px auto;
    text-align: center;
    max-width: 400px;
    backdrop-filter: blur(10px);
}

/* Footer */
.footer {
    background: var(--surface);
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    padding: 40px 0;
    text-align: center;
}

.footer-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
    text-align: center;
}

.footer-text {
    color: rgba(255, 255, 255, 0.8);
    font-size: 14px;
    text-align: center;
}

/* Mobile Responsive Improvements */
@media (max-width: 768px) {
    .header-container {
        justify-content: center;
    }
    
    .nav {
        display: none;
    }

    .hero {
        padding: 60px 0 40px;
    }

    .hero-logo {
        width: 280px;
        height: 280px;
    }

    .hero-logo.fallback {
        font-size: 42px;
    }

    .hero-title {
        text-align: center;
        margin-bottom: 20px;
    }

    .hero-subtitle {
        text-align: center;
        margin-bottom: 30px;
    }

    .social-links {
        margin-bottom: 30px;
        gap: 15px;
    }

    .upload-section {
        padding: 60px 0;
    }

    .upload-area {
        padding: 40px 15px;
        margin: 0 20px;
    }

    .upload-icon {
        width: 120px;
        height: 120px;
        font-size: 64px;
    }

    .brian-example {
        width: 250px;
        height: 250px;
    }

    .result-section {
        padding: 60px 0;
    }

    .result-container {
        gap: 30px;
        padding: 0 20px;
    }

    .controls-panel {
        margin: 0 20px;
    }

    .controls {
        flex-direction: column;
        align-items: center;
        gap: 10px;
    }

    .btn {
        width: 100%;
        max-width: 200px;
    }

    .banner-text {
        font-size: clamp(40px, 12vw, 120px);
    }

    .steps-list {
        flex-direction: column;
        gap: 15px;
    }

    .step-item {
        font-size: 14px;
    }

    .touch-controls {
        position: static;
        margin-bottom: 20px;
    }

    .control-group {
        margin-bottom: 20px;
    }

    .slider {
        height: 10px;
    }

    .slider::-webkit-slider-thumb {
        width: 28px;
        height: 28px;
    }

    .slider::-moz-range-thumb {
        width: 28px;
        height: 28px;
    }
}

@media (max-width: 480px) {
    .section-container {
        padding: 0 16px;
    }

    .hero-container {
        padding: 0 16px;
    }

    .upload-area {
        margin: 0 16px;
        padding: 30px 15px;
    }

    .upload-icon {
        width: 100px;
        height: 100px;
        font-size: 56px;
    }

    .controls-panel {
        margin: 0 16px;
        padding: 16px;
    }

    .result-container {
        padding: 0 16px;
    }

    .banner-text {
        font-size: clamp(32px, 10vw, 80px);
    }

    .hero-logo {
        width: 220px;
        height: 220px;
    }

    .hero-logo.fallback {
        font-size: 36px;
    }

    .social-links {
        gap: 12px;
    }
}
</style>
</head>
<body>
<!-- Wig Rain -->
<div class="wig-rain" id="wigRain"></div>

<!-- Header -->
<header class="header">
<div class="header-container">
    <a href="#" class="logo">BASE WIF HAIR</a>
    <nav class="nav">
        <a href="#upload" class="nav-link">Upload</a>
        <a href="#build" class="nav-link">Build</a>
        <a href="#docs" class="nav-link">Docs</a>
    </nav>
</div>
</header>

<!-- Main Content -->
<main class="main">
<!-- Large Scrolling Banner -->
<section class="scrolling-banner">
    <div class="banner-text">BASE WIF HAIR • BASE WIF HAIR • BASE WIF HAIR • BASE WIF HAIR • BASE WIF HAIR • </div>
</section>

<!-- Hero Section -->
<section class="hero">
    <div class="hero-container">
        <div class="hero-logo"></div>
        <h1 class="hero-title">
            We are bringing <span class="typewriter-text">hair onchain</span> to<br>
            <span class="typewriter-text">build</span> a global economy.
        </h1>
        <p class="hero-subtitle typewriter" id="typewriterText">
            Transform your photos with Base Chain wigs and join the onchain revolution.
        </p>
        
        <!-- Social Links -->
        <div class="social-links">
            <a href="#" class="social-link dex" id="dexLink" title="Dexscreener"></a>
            <a href="#" class="social-link telegram" id="telegramLink" title="Telegram"></a>
            <a href="#" class="social-link twitter" id="twitterLink" title="Twitter/X"></a>
        </div>
    </div>
</section>

<!-- How It Works -->
<section class="how-it-works">
    <div class="section-container">
        <img src="brian.png" alt="Example" class="brian-example" />
        <div class="timeline-container">
            <div class="timeline-line">
                <div class="timeline-progress"></div>
            </div>
            <div class="timeline-steps">
                <div class="timeline-step">
                    <div class="timeline-circle" id="step1">1</div>
                    <div class="timeline-label">Upload</div>
                </div>
                <div class="timeline-step">
                    <div class="timeline-circle" id="step2">2</div>
                    <div class="timeline-label">Add wif hair</div>
                </div>
                <div class="timeline-step">
                    <div class="timeline-circle" id="step3">3</div>
                    <div class="timeline-label">Position</div>
                </div>
                <div class="timeline-step">
                    <div class="timeline-circle" id="step4">4</div>
                    <div class="timeline-label">Share</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Upload Section -->
<section class="upload-section" id="upload">
    <div class="section-container">
        <h2 class="section-title">Upload Your Photo</h2>
        <p class="section-subtitle">
            Drop your image and we'll add the signature Base Chain wig
        </p>

        <div class="upload-area" id="uploadArea">
            <div class="upload-icon" id="uploadIcon">📸</div>
            <h3 class="upload-title">Choose your image</h3>
            <p class="upload-subtitle">Drag and drop or click to browse</p>
            <input type="file" id="fileInput" class="file-input" accept="image/*">
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Processing your image...</p>
        </div>
    </div>
</section>

<!-- Result Section -->
<section class="result-section" id="resultSection">
    <div class="section-container">
        <div class="result-container">
            <div class="canvas-area">
                <div class="touch-controls">
                    <button class="touch-control-btn" id="dragModeBtn">🤏 Drag Mode</button>
                    <button class="touch-control-btn" id="resetPositionBtn">🎯 Reset Position</button>
                </div>
                <canvas id="outputCanvas"></canvas>
                
                <div class="controls">
                    <button class="btn" id="downloadBtn">
                        📥 Download HD
                    </button>
                    <button class="btn btn-secondary" id="shareBtn">
                        🐦 Share
                    </button>
                    <button class="btn btn-secondary" id="resetBtn">
                        🔄 Try Again
                    </button>
                </div>
            </div>
            
            <div class="controls-panel">
                <h3 class="panel-title">🎛️ Adjust Your Wig</h3>
                
                <div class="control-group">
                    <label class="control-label">Wig Size</label>
                    <input type="range" id="wigSize" class="slider" min="0.3" max="2.0" step="0.05" value="1.0">
                    <div class="slider-value" id="sizeValue">100%</div>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Vertical Position</label>
                    <input type="range" id="wigPositionY" class="slider" min="-100" max="100" step="5" value="0">
                    <div class="slider-value" id="positionYValue">0</div>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Horizontal Position</label>
                    <input type="range" id="wigPositionX" class="slider" min="-100" max="100" step="5" value="0">
                    <div class="slider-value" id="positionXValue">0</div>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Rotation</label>
                    <input type="range" id="wigRotation" class="slider" min="-45" max="45" step="1" value="0">
                    <div class="slider-value" id="rotationValue">0°</div>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Opacity</label>
                    <input type="range" id="wigOpacity" class="slider" min="0.1" max="1.0" step="0.05" value="1.0">
                    <div class="slider-value" id="opacityValue">100%</div>
                </div>
            </div>
        </div>

        <div class="success-message" id="successMessage">
            ✅ Your Base Chain wig has been applied!
        </div>
    </div>
</section>
</main>

<!-- Footer -->
<footer class="footer">
<div class="footer-container">
    <p class="footer-text">
        &copy; 2025 BASE WIF HAIR. Built on Base • Bringing hair onchain
    </p>
</div>
</footer>

<script>
class BaseWifHair {
    constructor() {
        this.canvas = document.getElementById('outputCanvas');
        this.ctx = this.canvas.getContext('2d');
        this.originalImage = null;
        this.wigImage = null;
        this.isDragging = false;
        this.dragOffset = { x: 0, y: 0 };
        this.wigPosition = { x: 0, y: 0 };
        this.isResizing = false;
        this.initialPinchDistance = 0;
        this.initialWigSize = 1.0;
        // High-resolution canvas for better quality downloads
        this.hdCanvas = document.createElement('canvas');
        this.hdCtx = this.hdCanvas.getContext('2d');
        this.init();
    }

    init() {
        this.loadWigImage();
        this.setupEventListeners();
        this.startWigRain();
        this.setupHeroLogo();
        this.setupUploadIcon();
        this.setupSocialLinks();
        this.setupTouchControls();
        this.startTimelineAnimation();
    }

    setupSocialLinks() {
        const socialLinks = [
            { id: 'dexLink', class: 'dex', imageSrc: 'dex.png', fallbackText: 'DEX' },
            { id: 'telegramLink', class: 'telegram', imageSrc: 'TG.png', fallbackText: 'TG' },
            { id: 'twitterLink', class: 'twitter', imageSrc: 'X.png', fallbackText: 'X' }
        ];

        socialLinks.forEach(link => {
            const element = document.getElementById(link.id);
            const img = new Image();
            
            img.onload = () => {
                console.log(`${link.class} icon loaded successfully`);
            };
            
            img.onerror = () => {
                // If image fails to load, use fallback styling
                element.classList.add('fallback');
                element.textContent = link.fallbackText;
                element.style.backgroundImage = 'none';
                console.log(`Using fallback for ${link.class} icon`);
            };
            
            img.src = link.imageSrc;
        });
    }

    startTimelineAnimation() {
        const steps = document.querySelectorAll('.timeline-circle');
        
        // Start all steps as inactive
        steps.forEach(step => {
            step.classList.remove('active');
        });
        
        // Activate steps in sequence
        let currentStep = 0;
        const activateNextStep = () => {
            if (currentStep < steps.length) {
                steps[currentStep].classList.add('active');
                currentStep++;
                
                // Continue the sequence
                setTimeout(activateNextStep, 2000); // 2 seconds between each step
            } else {
                // Reset and restart the sequence
                setTimeout(() => {
                    steps.forEach(step => step.classList.remove('active'));
                    currentStep = 0;
                    setTimeout(activateNextStep, 1000);
                }, 2000);
            }
        };
        
        // Start the animation after a short delay
        setTimeout(activateNextStep, 1000);
    }

    setupTouchControls() {
        const canvas = this.canvas;
        let dragMode = false;
        
        // Touch/drag mode toggle
        const dragModeBtn = document.getElementById('dragModeBtn');
        dragModeBtn.addEventListener('click', () => {
            dragMode = !dragMode;
            dragModeBtn.textContent = dragMode ? '✋ Drag ON' : '🤏 Drag Mode';
            dragModeBtn.style.background = dragMode ? 'rgba(0, 255, 0, 0.7)' : 'rgba(0, 0, 0, 0.7)';
            canvas.style.cursor = dragMode ? 'grab' : 'default';
        });

        // Reset position button
        const resetPositionBtn = document.getElementById('resetPositionBtn');
        resetPositionBtn.addEventListener('click', () => {
            this.wigPosition = { x: 0, y: 0 };
            document.getElementById('wigPositionX').value = 0;
            document.getElementById('wigPositionY').value = 0;
            document.getElementById('positionXValue').textContent = '0';
            document.getElementById('positionYValue').textContent = '0';
            this.applyWig();
        });

        // Mouse/Touch events for dragging
        const getEventPos = (e) => {
            const rect = canvas.getBoundingClientRect();
            const clientX = e.clientX || (e.touches && e.touches[0] ? e.touches[0].clientX : 0);
            const clientY = e.clientY || (e.touches && e.touches[0] ? e.touches[0].clientY : 0);
            return {
                x: clientX - rect.left,
                y: clientY - rect.top
            };
        };

        const handleStart = (e) => {
            if (!dragMode) return;
            e.preventDefault();
            
            if (e.touches && e.touches.length === 2) {
                // Pinch to resize
                this.isResizing = true;
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                this.initialPinchDistance = Math.sqrt(
                    Math.pow(touch2.clientX - touch1.clientX, 2) +
                    Math.pow(touch2.clientY - touch1.clientY, 2)
                );
                this.initialWigSize = parseFloat(document.getElementById('wigSize').value);
            } else {
                // Single touch/click to drag
                this.isDragging = true;
                const pos = getEventPos(e);
                this.dragOffset = {
                    x: pos.x - this.wigPosition.x,
                    y: pos.y - this.wigPosition.y
                };
                canvas.style.cursor = 'grabbing';
            }
        };

        const handleMove = (e) => {
            if (!dragMode) return;
            e.preventDefault();
            
            if (this.isResizing && e.touches && e.touches.length === 2) {
                // Handle pinch resize
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                const currentDistance = Math.sqrt(
                    Math.pow(touch2.clientX - touch1.clientX, 2) +
                    Math.pow(touch2.clientY - touch1.clientY, 2)
                );
                
                const scale = currentDistance / this.initialPinchDistance;
                const newSize = Math.max(0.3, Math.min(2.0, this.initialWigSize * scale));
                
                document.getElementById('wigSize').value = newSize;
                document.getElementById('sizeValue').textContent = Math.round(newSize * 100) + '%';
                this.applyWig();
            } else if (this.isDragging) {
                // Handle drag
                const pos = getEventPos(e);
                const newX = pos.x - this.dragOffset.x;
                const newY = pos.y - this.dragOffset.y;
                
                // Convert to slider values
                const xSliderValue = Math.max(-100, Math.min(100, (newX - canvas.width/2) / 2));
                const ySliderValue = Math.max(-100, Math.min(100, (newY - canvas.height*0.05) / 2));
                
                this.wigPosition = { x: newX, y: newY };
                
                // Update sliders
                document.getElementById('wigPositionX').value = xSliderValue;
                document.getElementById('wigPositionY').value = ySliderValue;
                document.getElementById('positionXValue').textContent = Math.round(xSliderValue);
                document.getElementById('positionYValue').textContent = Math.round(ySliderValue);
                
                this.applyWig();
            }
        };

        const handleEnd = (e) => {
            if (!dragMode) return;
            this.isDragging = false;
            this.isResizing = false;
            canvas.style.cursor = dragMode ? 'grab' : 'default';
        };

        // Add event listeners for both mouse and touch
        canvas.addEventListener('mousedown', handleStart);
        canvas.addEventListener('mousemove', handleMove);
        canvas.addEventListener('mouseup', handleEnd);
        canvas.addEventListener('mouseleave', handleEnd);
        
        canvas.addEventListener('touchstart', handleStart);
        canvas.addEventListener('touchmove', handleMove);
        canvas.addEventListener('touchend', handleEnd);
        canvas.addEventListener('touchcancel', handleEnd);
    }

    setupUploadIcon() {
        const uploadIcon = document.getElementById('uploadIcon');
        
        // Try to load wiflogo.png for upload icon
        const img = new Image();
        img.onload = () => {
            // If wiflogo.png loads successfully, use it as background
            uploadIcon.style.backgroundImage = 'url(wiflogo.png)';
            uploadIcon.textContent = ''; // Remove emoji
            console.log('Upload icon loaded successfully');
        };
        img.onerror = () => {
            // If wiflogo.png fails to load, keep the emoji
            uploadIcon.textContent = '📸';
            console.log('Using fallback upload icon');
        };
        img.src = 'wiflogo.png';
    }

    setupHeroLogo() {
        const heroLogo = document.querySelector('.hero-logo');
        
        // Try to load wiflogo.png for hero
        const img = new Image();
        img.onload = () => {
            // If wiflogo.png loads successfully, use it as background
            heroLogo.style.backgroundImage = 'url(wiflogo.png)';
            heroLogo.style.backgroundSize = 'contain';
            heroLogo.style.backgroundRepeat = 'no-repeat';
            heroLogo.style.backgroundPosition = 'center';
            console.log('Hero logo loaded successfully');
        };
        img.onerror = () => {
            // If wiflogo.png fails to load, use fallback styling
            heroLogo.classList.add('fallback');
            heroLogo.textContent = 'WIF';
            console.log('Using fallback hero logo');
        };
        img.src = 'wiflogo.png';
    }

    loadWigImage() {
        this.wigImage = new Image();
        this.wigImage.crossOrigin = 'anonymous';
        this.wigImage.onload = () => {
            console.log('Wig loaded successfully');
        };
        this.wigImage.onerror = () => {
            console.log('Could not load wig.png, creating fallback');
            this.createFallbackWig();
        };
        this.wigImage.src = 'wig.png';
    }

    createFallbackWig() {
        const wigCanvas = document.createElement('canvas');
        const wigCtx = wigCanvas.getContext('2d');
        wigCanvas.width = 400;
        wigCanvas.height = 300;

        // Create Base blue gradient wig
        const gradient = wigCtx.createLinearGradient(0, 0, 400, 300);
        gradient.addColorStop(0, '#0052FF');
        gradient.addColorStop(0.5, '#1E6BFF');
        gradient.addColorStop(1, '#0041CC');
        
        wigCtx.fillStyle = gradient;
        wigCtx.beginPath();
        wigCtx.ellipse(200, 150, 180, 120, 0, 0, Math.PI * 2);
        wigCtx.fill();

        // Add hair texture
        wigCtx.strokeStyle = '#0041CC';
        wigCtx.lineWidth = 3;
        wigCtx.lineCap = 'round';
        
        for (let i = 0; i < 25; i++) {
            const startX = 50 + Math.random() * 300;
            const startY = 200 + Math.random() * 50;
            
            wigCtx.beginPath();
            wigCtx.moveTo(startX, startY);
            
            const cp1x = startX + (Math.random() - 0.5) * 40;
            const cp1y = startY + 30 + Math.random() * 20;
            const endX = startX + (Math.random() - 0.5) * 20;
            const endY = startY + 80 + Math.random() * 40;
            
            wigCtx.quadraticCurveTo(cp1x, cp1y, endX, endY);
            wigCtx.stroke();
        }

        const fallbackWigImage = new Image();
        fallbackWigImage.src = wigCanvas.toDataURL();
        this.wigImage = fallbackWigImage;
    }

    setupEventListeners() {
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const downloadBtn = document.getElementById('downloadBtn');
        const shareBtn = document.getElementById('shareBtn');
        const resetBtn = document.getElementById('resetBtn');

        // Upload events
        uploadArea.addEventListener('click', () => fileInput.click());
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                this.handleFile(files[0]);
            }
        });

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                this.handleFile(e.target.files[0]);
            }
        });

        // Control buttons
        downloadBtn.addEventListener('click', () => this.downloadHDImage());
        shareBtn.addEventListener('click', () => this.shareToTwitter());
        resetBtn.addEventListener('click', () => this.reset());

        // Wig adjustment controls
        this.setupWigControls();
    }

    setupWigControls() {
        const controls = [
            { id: 'wigSize', valueId: 'sizeValue', format: '%' },
            { id: 'wigPositionY', valueId: 'positionYValue', format: '' },
            { id: 'wigPositionX', valueId: 'positionXValue', format: '' },
            { id: 'wigRotation', valueId: 'rotationValue', format: '°' },
            { id: 'wigOpacity', valueId: 'opacityValue', format: '%' }
        ];

        controls.forEach(control => {
            const slider = document.getElementById(control.id);
            const valueDisplay = document.getElementById(control.valueId);
            
            slider.addEventListener('input', (e) => {
                // Update display value
                let displayValue = e.target.value;
                if (control.format === '%') {
                    displayValue = Math.round(parseFloat(e.target.value) * 100);
                }
                valueDisplay.textContent = displayValue + control.format;
                
                // Apply wig with new settings
                if (this.originalImage && this.wigImage) {
                    this.applyWig();
                }
            });
        });
    }

    handleFile(file) {
        if (!file.type.startsWith('image/')) {
            alert('Please select a valid image file.');
            return;
        }

        if (file.size > 10 * 1024 * 1024) {
            alert('File size must be less than 10MB.');
            return;
        }

        this.showLoading(true);

        const reader = new FileReader();
        reader.onload = (e) => {
            const img = new Image();
            img.onload = () => {
                this.originalImage = img;
                this.displayImage();
                setTimeout(() => {
                    this.applyWig();
                    this.showResult();
                    this.showLoading(false);
                    this.showSuccess();
                }, 1000);
            };
            img.src = e.target.result;
        };
        reader.readAsDataURL(file);
    }

    showLoading(show) {
        document.getElementById('loading').style.display = show ? 'block' : 'none';
    }

    showSuccess() {
        const successMessage = document.getElementById('successMessage');
        successMessage.style.display = 'block';
        setTimeout(() => {
            successMessage.style.display = 'none';
        }, 5000);
    }

    displayImage() {
        const maxWidth = window.innerWidth > 768 ? 800 : window.innerWidth - 80;
        const maxHeight = window.innerHeight * 0.7;
        let { width, height } = this.originalImage;

        if (width > maxWidth || height > maxHeight) {
            const ratio = Math.min(maxWidth / width, maxHeight / height);
            width *= ratio;
            height *= ratio;
        }

        this.canvas.width = width;
        this.canvas.height = height;
        this.ctx.drawImage(this.originalImage, 0, 0, width, height);
    }

    applyWig() {
        if (!this.originalImage || !this.wigImage) return;

        this.displayImage();

        // Get all control values
        const wigSize = parseFloat(document.getElementById('wigSize').value);
        const wigPositionY = parseInt(document.getElementById('wigPositionY').value);
        const wigPositionX = parseInt(document.getElementById('wigPositionX').value);
        const wigRotation = parseInt(document.getElementById('wigRotation').value);
        const wigOpacity = parseFloat(document.getElementById('wigOpacity').value);

        // Calculate wig positioning and sizing
        const wigWidth = this.canvas.width * 0.8 * wigSize;
        const wigHeight = (this.wigImage.height / this.wigImage.width) * wigWidth;
        const wigX = (this.canvas.width / 2) - (wigWidth / 2) + wigPositionX;
        const wigY = (this.canvas.height * 0.05) + wigPositionY;

        // Apply to display canvas
        this.drawWigOnCanvas(this.ctx, wigX, wigY, wigWidth, wigHeight, wigRotation, wigOpacity);
    }

    drawWigOnCanvas(ctx, wigX, wigY, wigWidth, wigHeight, wigRotation, wigOpacity) {
        // Save context state
        ctx.save();
        
        // Set opacity
        ctx.globalAlpha = wigOpacity;
        
        // Apply rotation if needed
        if (wigRotation !== 0) {
            const centerX = wigX + wigWidth / 2;
            const centerY = wigY + wigHeight / 2;
            ctx.translate(centerX, centerY);
            ctx.rotate((wigRotation * Math.PI) / 180);
            ctx.translate(-centerX, -centerY);
        }

        // Draw the wig with high quality
        ctx.imageSmoothingEnabled = true;
        ctx.imageSmoothingQuality = 'high';
        ctx.globalCompositeOperation = 'source-over';
        ctx.drawImage(this.wigImage, wigX, wigY, wigWidth, wigHeight);
        
        // Restore context state
        ctx.restore();
    }

    downloadHDImage() {
        if (!this.originalImage || !this.wigImage) return;

        // Create high-resolution version (2x scale for better quality)
        const scale = 2;
        const hdWidth = this.originalImage.width * scale;
        const hdHeight = this.originalImage.height * scale;
        
        this.hdCanvas.width = hdWidth;
        this.hdCanvas.height = hdHeight;
        
        // Enable high-quality rendering
        this.hdCtx.imageSmoothingEnabled = true;
        this.hdCtx.imageSmoothingQuality = 'high';
        
        // Draw original image at high resolution
        this.hdCtx.drawImage(this.originalImage, 0, 0, hdWidth, hdHeight);

        // Get all control values
        const wigSize = parseFloat(document.getElementById('wigSize').value);
        const wigPositionY = parseInt(document.getElementById('wigPositionY').value);
        const wigPositionX = parseInt(document.getElementById('wigPositionX').value);
        const wigRotation = parseInt(document.getElementById('wigRotation').value);
        const wigOpacity = parseFloat(document.getElementById('wigOpacity').value);

        // Calculate wig positioning and sizing for HD canvas
        const wigWidth = hdWidth * 0.8 * wigSize;
        const wigHeight = (this.wigImage.height / this.wigImage.width) * wigWidth;
        const wigX = (hdWidth / 2) - (wigWidth / 2) + (wigPositionX * scale);
        const wigY = (hdHeight * 0.05) + (wigPositionY * scale);

        // Draw wig on HD canvas
        this.drawWigOnCanvas(this.hdCtx, wigX, wigY, wigWidth, wigHeight, wigRotation, wigOpacity);

        // Download HD image
        const link = document.createElement('a');
        link.download = `base-wif-hair-hd-${Date.now()}.png`;
        link.href = this.hdCanvas.toDataURL('image/png', 1.0);
        link.click();
    }

    showResult() {
        document.getElementById('resultSection').style.display = 'block';
        document.getElementById('resultSection').scrollIntoView({ 
            behavior: 'smooth' 
        });
    }

    shareToTwitter() {
        const text = encodeURIComponent("Just got my BASE WIF HAIR! Bringing hair onchain 🦱⛓️ #Base #BaseWifHair #Onchain");
        const url = encodeURIComponent(window.location.href);
        window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`, '_blank');
    }

    reset() {
        this.originalImage = null;
        this.wigPosition = { x: 0, y: 0 };
        document.getElementById('resultSection').style.display = 'none';
        document.getElementById('fileInput').value = '';
        document.getElementById('successMessage').style.display = 'none';
        
        // Reset all sliders to default values
        document.getElementById('wigSize').value = '1.0';
        document.getElementById('wigPositionY').value = '0';
        document.getElementById('wigPositionX').value = '0';
        document.getElementById('wigRotation').value = '0';
        document.getElementById('wigOpacity').value = '1.0';
        
        // Reset slider value displays
        document.getElementById('sizeValue').textContent = '100%';
        document.getElementById('positionYValue').textContent = '0';
        document.getElementById('positionXValue').textContent = '0';
        document.getElementById('rotationValue').textContent = '0°';
        document.getElementById('opacityValue').textContent = '100%';
        
        // Reset drag mode button
        const dragModeBtn = document.getElementById('dragModeBtn');
        dragModeBtn.textContent = '🤏 Drag Mode';
        dragModeBtn.style.background = 'rgba(0, 0, 0, 0.7)';
        this.canvas.style.cursor = 'default';
        
        document.getElementById('upload').scrollIntoView({ 
            behavior: 'smooth' 
        });
    }

    startWigRain() {
        const wigRain = document.getElementById('wigRain');
        
        // Create initial drops
        for (let i = 0; i < 10; i++) {
            setTimeout(() => {
                this.createWigDrop();
            }, i * 400);
        }
        
        // Continue creating drops more frequently
        setInterval(() => {
            if (Math.random() < 0.6) {
                this.createWigDrop();
            }
        }, 1500);
    }

    createWigDrop() {
        const wigRain = document.getElementById('wigRain');
        const wigDrop = document.createElement('div');
        wigDrop.className = 'wig-drop';
        
        wigDrop.style.left = Math.random() * window.innerWidth + 'px';
        
        const size = 50 + Math.random() * 30; // Larger size range: 50-80px
        wigDrop.style.width = size + 'px';
        wigDrop.style.height = size + 'px';
        
        const duration = 4 + Math.random() * 3;
        wigDrop.style.animationDuration = duration + 's';
        
        wigRain.appendChild(wigDrop);
        
        setTimeout(() => {
            if (wigDrop.parentNode) {
                wigDrop.parentNode.removeChild(wigDrop);
            }
        }, duration * 1000);
    }
}

// Initialize
let baseWifHair;
window.addEventListener('load', () => {
    baseWifHair = new BaseWifHair();
    startTypewriter();
});

// Typewriter effect for hero subtitle
function startTypewriter() {
    const typewriterElement = document.getElementById('typewriterText');
    const text = "Join the hair onchain revolution";
    
    // Clear the text and add the class
    typewriterElement.textContent = text;
    typewriterElement.classList.add('typewriter');
    
    // The CSS animation will handle the repeating
}

// Smooth scrolling for navigation
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({ behavior: 'smooth' });
        }
    });
});
</script>
</body>
</html>
